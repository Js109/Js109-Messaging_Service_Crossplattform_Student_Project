{{> header}}

<div class="container">
  <h3>{{title}}</h3>

  <form enctype="multipart/form-data" action="/publish" method="post">
    <div class="form-group">
      <label for="topic">Topic:</label>
      <select class="browser-default custom-select" name="topic" id="topic">
        <option selected></option>
        {{#topics}}
          <option value="{{binding}}">{{title}}</option>
        {{/topics}}
      </select>
    </div>
    <div class="form-group">
      <label>Property:</label>
      {{#properties}}
        <div class="form-check">

          <input class="form-check-input" name="properties" type="checkbox" value="{{binding}}" id="checkbox{{id}}"/>
          <label class="form-check-label" for="checkbox{{id}}">
            {{name}}
          </label>
        </div>
      {{/properties}}
    </div>
    <div class="form-group">
      <label for="content">Message content:</label>
      <textarea class="form-control" name="content" id="content"></textarea>
    </div>
    <div class="form-group">
      <input class="browser-default custom-select" name="messagestarttime" type="datetime-local"/>
    </div>
    <div class="custom-file">
        <input type="file" id="fileSelection" name="file" class="custom-file-input">
        <label class="custom-file-label" for="customFile">Choose file</label>
    </div>
    <button type="button" onclick="document.getElementById('fileSelection').value = ''" class="btn btn-primary">clear</button>
    <input type="submit" value="Submit" class="btn btn-primary"/>
  </form>
  <script>
  // Add the following code if you want the name of the file appear on select
  $(".custom-file-input").on("change", function() {
    var fileName = $(this).val().split("\\").pop();
    $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
  });
  </script>
</div>

{{> footer}}